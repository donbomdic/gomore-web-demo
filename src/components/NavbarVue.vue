<template>
  <div class="nav-main">
    <div class="logo">
      <a href="https://www.gomore.me/en/">
        <svg width="150" height="25" viewBox="0 0 150 25" fill="none" xmlns="http://www.w3.org/2000/svg">
          <g clip-path="url(#clip0_136_1332)">
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M128.717 1.54578C127.024 0.517241 125.215 0 123.339 0C123.249 0 123.158 0 123.079 0C121.27 0 119.54 0.39239 118.082 1.13555C115.814 2.20571 111.99 4.92866 111.821 11.1177V11.2188C111.821 11.3199 111.821 23.0678 111.821 24.5779V24.8751H114.955V11.2069C114.955 6.66469 118.596 2.97265 123.079 2.97265C124.313 2.97265 125.469 3.22235 126.521 3.71581L126.703 3.79905L129.068 1.75386L128.724 1.53983L128.717 1.54578Z"
              fill="black"
            />
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M72.1053 0.118896C69.9879 0.118896 67.9855 1.07609 66.6667 2.69916C65.3539 1.07609 63.3515 0.118896 61.2281 0.118896C57.3987 0.118896 54.2831 3.18073 54.2831 6.94411V24.7562H57.3926L57.4108 6.94411C57.4108 4.85136 59.1228 3.151 61.2281 3.151C63.1277 3.151 64.7913 4.50653 65.1119 6.3139L65.1482 24.7503H68.2214V6.29607C68.5481 4.50059 70.2118 3.15695 72.0992 3.15695C74.2105 3.15695 75.9286 4.8573 75.9286 6.95005L75.977 24.7622H79.0502V6.95005C79.0502 3.18667 75.9286 0.124842 72.1053 0.124842"
              fill="black"
            />
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M139.474 22.1105C137.054 22.1105 134.834 21.2365 133.134 19.7918L150 6.56354L149.244 5.49338C146.788 2.03916 143.412 0.208008 139.48 0.208008C132.559 0.208008 126.927 5.74309 126.927 12.5445C126.927 19.3459 132.559 24.881 139.48 24.881C141.658 24.881 143.799 24.3281 145.681 23.2758L144.283 20.862C142.825 21.6765 141.168 22.1046 139.48 22.1046M130.097 12.7229C130.097 7.44939 134.459 3.16282 139.825 3.16282C142.432 3.16282 144.658 4.19136 146.461 6.2306L131.627 17.8656C130.659 16.3792 130.097 14.6135 130.097 12.7229Z"
              fill="black"
            />
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M18.6691 13.1986H16.7756L13.1761 15.9037V15.9215H18.6691V21.7241C17.7435 21.7895 14.513 22.0155 12.3896 22.0155C5.7653 22.0155 2.80099 17.2295 2.80099 12.4851C2.78284 9.66112 3.76288 7.13437 5.54751 5.36267C7.24745 3.68015 9.61285 2.7943 12.3836 2.7943C14.9849 2.7943 17.5983 3.84067 19.3769 5.58859L19.7883 5.99287L21.5366 4.07254L21.1676 3.70987C18.8203 1.38526 15.6988 0.101074 12.3896 0.101074C8.79615 0.101074 5.7048 1.2723 3.4604 3.49584C1.17969 5.74317 -0.0181287 8.86445 2.01083e-05 12.5149C2.01083e-05 18.6088 3.82942 24.7622 12.3896 24.7622C15.729 24.7622 21.1373 24.245 21.1857 24.239L21.4338 24.2152V13.1986H18.6631H18.6691Z"
              fill="black"
            />
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M37.8222 3.02011C39.504 3.02011 41.089 3.43628 42.4925 4.14377L43.7629 1.6408C41.9782 0.749003 39.9577 0.243652 37.8222 0.243652C30.5505 0.243652 24.6401 6.05816 24.6401 13.1985C24.6401 18.4422 27.8282 22.9666 32.4017 25.0058L33.6721 22.5266C30.0182 20.9511 27.4652 17.3661 27.4652 13.2044C27.4652 7.59205 32.1113 3.02605 37.8222 3.02605V3.02011Z"
              fill="#CF000E"
            />
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M48.3424 5.33887L46.3642 7.35433C47.5499 9.00712 48.2517 11.0226 48.2517 13.1986C48.2517 17.2889 45.7834 20.8204 42.2323 22.4376L43.6419 24.8573C48.0399 22.7527 51.0768 18.3175 51.0768 13.1986C51.0768 10.2437 50.0484 7.52079 48.3424 5.33887Z"
              fill="black"
            />
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M106.128 5.64802C103.733 2.3781 99.8427 0.237793 95.4386 0.237793C88.167 0.237793 82.2565 6.0523 82.2565 13.1926C82.2565 18.2402 85.2148 22.6219 89.51 24.7562H90.1392L91.2886 22.5148C87.6346 20.9393 85.0817 17.3543 85.0817 13.1926C85.0817 7.58024 89.7278 3.01425 95.4386 3.01425C98.8929 3.01425 101.936 4.69677 103.817 7.2592L106.128 5.64207V5.64802Z"
              fill="#CF000E"
            />
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M105.838 11.9263C105.892 12.3424 105.941 12.7646 105.941 13.1986C105.941 17.2889 103.473 20.8205 99.9214 22.4376L101.283 24.7681H101.512C105.814 22.6338 108.766 18.2521 108.766 13.2045C108.766 12.4732 108.699 11.7598 108.584 11.0642L105.838 11.9322V11.9263Z"
              fill="black"
            />
          </g>
          <defs>
            <clipPath id="clip0_136_1332">
              <rect width="150" height="25" fill="white" />
            </clipPath>
          </defs>
        </svg>
      </a>
      <img v-show="navMenu === false" @click="navMenu = true" class="menu" src="./asset/Icon.png" alt="menu" />
      <img
        v-show="navMenu === true"
        @click="navMenu = false"
        class="menu-open"
        src="./asset/Icon-1.png"
        alt="menu-open"
      />
    </div>
    <!-- Width > 959 Navigation Bar -->
    <div v-show="size > 959" class="nav-item" @mouseleave="(hoverNav = false), (hoverNav2 = false)">
      <router-link :to="'/' + $i18n.locale + '/product'" @mouseenter="(hoverNav = true), (hoverNav2 = false)">{{
        $t("navbar.title1")
      }}</router-link>
      <div v-show="hoverNav === true" class="nav-item-product-wrapper">
        <div class="space-product"></div>
        <div
          class="nav-item-product"
          @mouseenter="(hoverNav = true), (hoverNav2 = false)"
          @mouseleave="hoverNav = false"
        >
          <router-link :to="'/' + $i18n.locale + '/product/#section1'">{{ $t("navbar.content1-1") }} </router-link>
          <router-link :to="'/' + $i18n.locale + '/product/#section2'">{{ $t("navbar.content1-2") }}</router-link>
          <router-link :to="'/' + $i18n.locale + '/product/#section3'">{{ $t("navbar.content1-3") }}</router-link>
        </div>
      </div>
      <router-link :to="'/' + $i18n.locale + '/commercial'" @mouseenter="(hoverNav2 = true), (hoverNav = false)">{{
        $t("navbar.title2")
      }}</router-link>
      <div v-show="hoverNav2 === true" class="nav-item-commercial-wrapper">
        <div class="space-commercial"></div>
        <div
          class="nav-item-commercial"
          @mouseenter="(hoverNav2 = true), (hoverNav = false)"
          @mouseleave="hoverNav2 = false"
        >
          <router-link :to="'/' + $i18n.locale + '/commercial/#section1'">{{ $t("navbar.content2-1") }}</router-link>
          <router-link :to="'/' + $i18n.locale + '/commercial/#section2'">{{ $t("navbar.content2-2") }}</router-link>
          <router-link :to="'/' + $i18n.locale + '/commercial/#section3'">{{ $t("navbar.content2-3") }}</router-link>
        </div>
      </div>
      <router-link :to="'/' + $i18n.locale + '/news'" @mouseenter="(hoverNav = false), (hoverNav2 = false)">{{
        $t("navbar.title3")
      }}</router-link>
      <router-link :to="'/' + $i18n.locale + '/aboutus'" @mouseenter="(hoverNav = false), (hoverNav2 = false)">{{
        $t("navbar.title4")
      }}</router-link>
      <router-link :to="'/' + $i18n.locale + '/contactus'" @mouseenter="(hoverNav = false), (hoverNav2 = false)">{{
        $t("navbar.title5")
      }}</router-link>
    </div>
    <!-- Mobile Navigation Bar  -->
    <div v-show="size <= 959 && navMenu === true" class="nav-item">
      <div class="nav-item-wrapper">
        <div class="nav-item-title">
          <router-link :to="'/' + $i18n.locale + '/product'">{{ $t("navbar.title1") }} </router-link>
          <img
            @click="isProductSection = !isProductSection"
            :class="{ 'section-open': isProductSection }"
            src="./asset/Icon-2.png"
            alt="menu-open"
          />
        </div>
        <div v-show="isProductSection" class="nav-item-section-wrapper">
          <router-link :to="'/' + $i18n.locale + '/product/#section1'">{{ $t("navbar.content1-1") }} </router-link>
          <router-link :to="'/' + $i18n.locale + '/product/#section2'">{{ $t("navbar.content1-2") }}</router-link>
          <router-link :to="'/' + $i18n.locale + '/product/#section3'">{{ $t("navbar.content1-3") }}</router-link>
        </div>
      </div>
      <div class="nav-item-wrapper">
        <div class="nav-item-title">
          <router-link :to="'/' + $i18n.locale + '/commercial'">{{ $t("navbar.title2") }} </router-link
          ><img
            @click="isCommercialSection = !isCommercialSection"
            :class="{ 'section-open': isCommercialSection }"
            src="./asset/Icon-2.png"
            alt="menu-open"
          />
        </div>
        <div v-show="isCommercialSection" class="nav-item-section-wrapper">
          <router-link :to="'/' + $i18n.locale + '/commercial/#section1'">{{ $t("navbar.content2-1") }}</router-link>
          <router-link :to="'/' + $i18n.locale + '/commercial/#section2'">{{ $t("navbar.content2-2") }}</router-link>
          <router-link :to="'/' + $i18n.locale + '/commercial/#section3'">{{ $t("navbar.content2-3") }}</router-link>
        </div>
      </div>
      <div class="nav-item-wrapper">
        <router-link :to="'/' + $i18n.locale + '/news'">{{ $t("navbar.title3") }}</router-link>
      </div>
      <div class="nav-item-wrapper">
        <router-link :to="'/' + $i18n.locale + '/aboutus'">{{ $t("navbar.title4") }}</router-link>
      </div>
      <div class="nav-item-wrapper">
        <router-link :to="'/' + $i18n.locale + '/contactus'">{{ $t("navbar.title5") }}</router-link>
      </div>
    </div>
  </div>
</template>

<script>
import { useRouter } from "vue-router";
import { ref } from "vue";

export default {
  name: "Navbar",
  setup() {
    const router = useRouter();
    const hoverNav = ref(false);
    const hoverNav2 = ref(false);
    const navMenu = ref(false);
    const size = ref(window.innerWidth);
    const isProductSection = ref(false);
    const isCommercialSection = ref(false);

    function sizeEventHandler(e) {
      size.value = e.target.innerWidth;
    }

    return { router, hoverNav, hoverNav2, navMenu, size, sizeEventHandler, isProductSection, isCommercialSection };
  },
  created() {
    window.addEventListener("resize", this.sizeEventHandler);
  },
  destroyed() {
    window.removeEventListener("resize", this.sizeEventHandler);
  },
  watch: {
    $route(to, from) {
      this.navMenu = false;
    },
  },
};
</script>

<style lang="scss" scoped>
@media screen and (min-width: 960px) {
  .nav-main {
    display: flex;
    margin: 0 auto;
    max-width: 1084px;
    width: 100%;
    align-items: center;
    .logo {
      margin: auto 55px auto 0px;
      .menu {
        display: none;
      }
      .menu-open {
        display: none;
      }
    }
    .nav-item {
      max-width: 878px;
      width: 100%;
      height: 66px;
      background: #9b000a;
      display: flex;
      padding: 0px;
      align-items: center;
      a {
        margin: auto 10px auto 55px;
        text-decoration: none;
        font-family: var(--font-family-DIN);
        font-size: 20px;
        font-weight: var(--font-nav-weight);
        line-height: var(--font-nav-line-height);
        letter-spacing: var(--font-nav-letter-spacing);
        text-align: center;
        color: #ffffff;
      }
      a:hover {
        color: #860009;
      }
    }
  }
  .nav-item-product-wrapper {
    max-width: 1084px;
    width: 100%;
    margin: auto;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    margin-top: 66px;
    position: absolute;
    display: flex;

    .space-product {
      max-width: 205px;
      width: 100%;
    }
    .nav-item-product {
      max-width: 878px;
      width: 100%;
      height: 66px;
      background: #860009;
      display: flex;
      align-items: center;
      a {
        margin: auto 10px auto 55px;
        text-decoration: none;
        font-family: var(--font-family-DIN);
        font-style: normal;
        font-size: 20px;
        font-weight: va(--font-nav-weight);
        letter-spacing: var(--font-nav-letter-spacing);
        text-align: left;
        line-height: var(--font-nav-line-height);
        color: #ffffff;
      }
      a:hover {
        color: #9b000a;
      }
    }
  }

  .nav-item-commercial-wrapper {
    max-width: 1084px;
    width: 100%;
    margin: auto;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    margin-top: 66px;
    position: absolute;
    display: flex;

    .space-commercial {
      max-width: var(--commercial-nav-space-max-width);
      width: 100%;
    }
    .nav-item-commercial {
      max-width: var(--commercial-nav-item-max-width);
      width: 100%;
      height: 66px;
      background: #860009;
      display: flex;
      justify-content: flex-start;
      align-items: center;
      a {
        margin: auto -5px auto 34px;
        text-decoration: none;
        font-family: var(--font-family-DIN);
        font-style: normal;
        font-weight: var(--font-nav-weight);
        font-size: 20px;
        line-height: var(--font-nav-line-height);
        letter-spacing: var(--font-nav-letter-spacing);
        text-align: left;
        color: #ffffff;
      }
      a:hover {
        color: #9b000a;
      }
    }
  }
}

@media screen and (max-width: 959px) {
  .nav-main {
    z-index: 50;
    position: fixed;
    display: block;
    margin: 0 auto;
    top: 0;
    width: 100vw;
    background: #ffffff;

    .logo {
      display: flex;
      justify-content: space-between;
      align-items: center;
      height: 56px;
      a {
        margin-left: 16px;
        width: 108px;
        height: 18px;
        svg {
          width: 108px;
          height: 18px;
        }
      }
      .menu {
        display: block;
        height: 13.05px;
        width: 17.4px;
        margin-right: 22px;
      }
      .menu-open {
        display: block;
        margin-right: 22px;
      }
    }
    .nav-item {
      max-width: 100vw;
      width: 100%;
      height: 100vh;
      background: #9b000a;
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      .nav-item-wrapper {
        width: 90%;
        margin: 45px 16px 0 16px;
        padding-bottom: 15px;
        border-bottom: 2px solid #ffffff;
        a {
          text-decoration: none;
          font-family: var(--font-family-Arial);
          font-size: 15px;
          font-weight: 900;
          line-height: 21px;
          letter-spacing: 0em;
          text-align: left;

          color: #ffffff;
        }
        .nav-item-title {
          display: flex;
          align-items: center;
          justify-content: space-between;
          img {
            height: 14px;
            width: 14px;
          }
          .section-open {
            height: 14px;
            width: 14px;
            -webkit-transform: rotate(45deg);
            -moz-transform: rotate(45deg);
            -o-transform: rotate(45deg);
            -ms-transform: rotate(45deg);
            transform: rotate(45deg);
          }
        }
        .nav-item-section-wrapper {
          margin-top: 20px;
          display: flex;
          flex-direction: column;
          margin-left: 39px;
          a {
            margin-bottom: 20px;
            font-family: var(--font-family-DIN);
            font-size: 14px;
            font-weight: 700;
            line-height: 16px;
            letter-spacing: 0em;
          }
        }
      }
    }
  }
}
</style>
